{% extends '@tmpl/auth/wrapper.html.twig' %}

{% block title %}Authorization{% endblock %}

{% block auth_title %}
	<h2>Login Page</h2>
{% endblock %}

{% block auth_form %}
	{% if error %}
		<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
	{% endif %}
	{% if app.user %}
		<div class="mb-3">
			You are logged in as {{ app.user.username }}, <a
					href="{{ path('app_logout') }}">Logout</a>
		</div>
	{% endif %}
	<div class="form-group">
		<label>User Name</label>
		<input type="text"
			   autofocus
			   required
			   class="form-control"
			   name="username"
			   placeholder="User Name"
			   value="{{ last_username }}">
	</div>
	<div class="form-group">
		<label>Password</label>
		<input type="password"
			   name="password"
			   id="inputPassword"
			   class="form-control"
			   placeholder="Password"
			   required>
	</div>
	<input type="hidden"
		   name="_csrf_token"
		   value="{{ csrf_token('authenticate') }}"
	>
	<button type="submit" class="btn btn-primary">Login</button>
	<a href="{{ path('app_register') }}" class="btn btn-secondary">Register</a>
{% endblock %}